app-id: com.github.aggalex.contacts
runtime: io.elementary.Platform
runtime-version: '6'
sdk: io.elementary.Sdk
command: com.github.aggalex.contacts
finish-args:
  #- '--filesystem=/tmp/io.elementary.mail:create'
  #- '--env=TMPDIR=/tmp/io.elementary.mail'

  - '--share=ipc'
  - '--share=network'
  - '--socket=fallback-x11'
  - '--socket=wayland'
  - '--socket=session-bus'
  - '--filesystem=xdg-data'

  # EDS DBus interfaces
  #- '--talk-name=org.gnome.evolution.dataserver.AddressBook10'
  #- '--talk-name=org.gnome.evolution.dataserver.Sources5'

  #- '--metadata=X-DConf=migrate-path=/io/elementary/mail/'

modules:
  - name: folks
    buildsystem: meson
    config-opts:
      - '-Dbluez_backend=false'
      - '-Ddocs=false'
      - '-Deds_backend=false'
      - '-Dtests=false'
      - '-Dinstalled_tests=false'
      - '-Dofono_backend=false'
      - '-Dtelepathy_backend=false'
      - '-Dzeitgeist=false'
      - '-Dimport_tool=false'
      - '-Dinspect_tool=false'
 
    sources:
      - type: git
        url: https://gitlab.gnome.org/GNOME/folks.git

  - name: contacts
    buildsystem: meson
    sources:
      - type: dir
        path: .
